# Events Tab - Visual Guide

## Navigation
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sidebar Navigation                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“… Daily      (blue)                                        â”‚
â”‚  ğŸ“Š Weekly     (emerald)                                     â”‚
â”‚  ğŸ“ˆ Monthly    (purple)                                      â”‚
â”‚  ğŸ¥§ Yearly     (orange)                                      â”‚
â”‚  âš¡ Events     (violet) â† NEW!                              â”‚
â”‚  âš¡ Scenario   (yellow)                                      â”‚
â”‚  ğŸ¯ Election   (red)                                         â”‚
â”‚  ğŸ” Scanner    (cyan)                                        â”‚
â”‚  ğŸ“š Backtester (pink)                                        â”‚
â”‚  ğŸ¯ Phenomena  (teal)                                        â”‚
â”‚  ğŸ›’ Basket     (indigo)                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Page Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš¡ NIFTY                                    ğŸ“… 2020-01-01 â†’ 2024-12-31  âš™ï¸ ğŸ‘¤ â”‚
â”‚  Event Analysis Engine                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  TOTAL EVENTS â”‚ WIN RATE  â”‚ AVG RETURN â”‚ SHARPE RATIO â”‚ PROFIT FACTOR       â”‚
â”‚      15       â”‚   66.7%   â”‚   +2.45%   â”‚     1.85     â”‚      2.34           â”‚
â”‚  Union Budget â”‚  10 wins  â”‚ Med: 2.1%  â”‚     Good     â”‚  Max DD: -5.2%      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚                    Average Event Pattern Chart                                â”‚
â”‚                                                                               â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚    â”‚                                                           â”‚              â”‚
â”‚    â”‚         ğŸ“ˆ Cumulative Return Pattern                     â”‚              â”‚
â”‚    â”‚                                                           â”‚              â”‚
â”‚    â”‚    5%  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚              â”‚
â”‚    â”‚        â”‚                                       â”‚          â”‚              â”‚
â”‚    â”‚    0%  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚              â”‚
â”‚    â”‚        â”‚               â”‚                       â”‚          â”‚              â”‚
â”‚    â”‚   -5%  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚              â”‚
â”‚    â”‚        T-10          T0 (Event)            T+10          â”‚              â”‚
â”‚    â”‚                                                           â”‚              â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                               â”‚
â”‚    [Chart] [Data]                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Filter Panel (Left Sidebar)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” EVENT FILTERS              â†    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  â–¼ MARKET CONTEXT                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Asset Class                  â”‚   â”‚
â”‚  â”‚ [NIFTY â–¼]                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â–¼ TIME RANGES                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Start: 2020-01-01            â”‚   â”‚
â”‚  â”‚ End:   2024-12-31            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â–¼ EVENT SELECTION                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Country: [INDIA â–¼]           â”‚   â”‚
â”‚  â”‚ Category: [BUDGET â–¼]         â”‚   â”‚
â”‚  â”‚ Event: [UNION BUDGET DAY â–¼]  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â–¶ EVENT WINDOW                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Days Before: 10              â”‚   â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚   â”‚
â”‚  â”‚ Days After: 10               â”‚   â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â–¶ TRADE CONFIGURATION              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Entry: [T-1 Close â–¼]         â”‚   â”‚
â”‚  â”‚ Exit: T+10_CLOSE             â”‚   â”‚
â”‚  â”‚ Min Occurrences: 3           â”‚   â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [â–¶ ANALYZE EVENTS]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Table View

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Event Date    â”‚ Entry Price â”‚ Exit Price â”‚ Return % â”‚ MFE %  â”‚ MAE %   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2020-02-01    â”‚   12,250.00 â”‚  12,550.00 â”‚   +2.45% â”‚ +3.20% â”‚ -0.80%  â”‚
â”‚  2021-02-01    â”‚   14,500.00 â”‚  14,850.00 â”‚   +2.41% â”‚ +2.90% â”‚ -1.20%  â”‚
â”‚  2022-02-01    â”‚   17,200.00 â”‚  17,100.00 â”‚   -0.58% â”‚ +1.50% â”‚ -2.30%  â”‚
â”‚  2023-02-01    â”‚   17,800.00 â”‚  18,400.00 â”‚   +3.37% â”‚ +4.10% â”‚ -0.50%  â”‚
â”‚  2024-02-01    â”‚   21,500.00 â”‚  22,100.00 â”‚   +2.79% â”‚ +3.50% â”‚ -0.90%  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Color Theme

The Events tab uses a **violet** color scheme:
- Primary: `violet-600` (#7C3AED)
- Background: `violet-50` (#F5F3FF)
- Hover: `violet-700` (#6D28D9)
- Border: `violet-200` (#DDD6FE)

## Key Features

### 1. Event Selection
- **Country Filter**: Select market (INDIA, USA, UK)
- **Category Filter**: Filter by event type (BUDGET, ELECTION, FESTIVAL, HOLIDAY, NATIONAL_HOLIDAY)
- **Event Name**: Select specific event (e.g., "UNION BUDGET DAY", "DIWALI", "FED MEETING")

### 2. Event Window Configuration
- **Days Before**: How many trading days before the event to analyze (1-30)
- **Days After**: How many trading days after the event to analyze (1-30)
- Creates a relative timeline: T-10, T-9, ..., T-1, T0 (event), T+1, ..., T+10

### 3. Trade Configuration
- **Entry Point**: When to enter the trade
  - T-1_CLOSE: Close price day before event
  - T0_OPEN: Open price on event day
  - T0_CLOSE: Close price on event day
- **Exit Point**: Custom exit (e.g., T+10_CLOSE)
- **Min Occurrences**: Minimum number of event occurrences required for analysis

### 4. Statistics Display
Five key metrics shown at the top:
1. **Total Events**: Number of event occurrences found
2. **Win Rate**: Percentage of profitable trades
3. **Average Return**: Mean return across all events
4. **Sharpe Ratio**: Risk-adjusted return metric
5. **Profit Factor**: Gross profit / gross loss ratio

### 5. Chart Visualization
- **Average Event Curve**: Shows the average price movement pattern around events
- **Drag-to-Select**: Select specific time ranges within the event window
- **Interactive Tooltips**: Hover to see exact values
- **Zoom & Pan**: Explore the data in detail

### 6. Data Table
- **Event Date**: When the event occurred
- **Entry/Exit Prices**: Trade execution prices
- **Return %**: Profit/loss percentage
- **MFE (Max Favorable Excursion)**: Best price reached during trade
- **MAE (Max Adverse Excursion)**: Worst price reached during trade

## Use Cases

### 1. Budget Day Analysis
```
Event: UNION BUDGET DAY
Window: T-5 to T+5
Entry: T-1 Close
Exit: T+5 Close
Result: Analyze if buying before budget day is profitable
```

### 2. Festival Trading
```
Event: DIWALI
Window: T-10 to T+10
Entry: T-1 Close
Exit: T+10 Close
Result: Discover Diwali rally patterns
```

### 3. Election Impact
```
Category: ELECTION
Window: T-20 to T+20
Entry: T-1 Close
Exit: T+20 Close
Result: Study market behavior around elections
```

### 4. FED Meeting Analysis
```
Event: FED MEETING
Country: USA
Window: T-3 to T+3
Entry: T0 Open
Exit: T+3 Close
Result: Analyze immediate market reaction to FED decisions
```

## Empty States

### No Event Selected
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚         ğŸ“…                      â”‚
â”‚                                 â”‚
â”‚    Select an Event              â”‚
â”‚                                 â”‚
â”‚  Choose an event or category    â”‚
â”‚  to analyze                     â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Loading State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚         âŸ³                       â”‚
â”‚                                 â”‚
â”‚    Analyzing events...          â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Integration with Existing Features

### Drag-to-Select Time Range
- Works seamlessly with the event chart
- Select specific days within the event window
- Refines analysis to focus on selected period
- Shows selection indicator in header: `ğŸ“… T-5 â†’ T+2 âœ•`

### Global State Management
- Uses `useAnalysisStore` for symbol and date selection
- Uses `useChartSelectionStore` for drag-to-select state
- Maintains consistency with other analysis tabs

### Responsive Design
- Resizable filter panel (200px - 500px)
- Collapsible filter sections
- Mobile-friendly (future enhancement)

## API Endpoints Used

1. `GET /api/analysis/events/categories` - Fetch event categories
2. `GET /api/analysis/events/names` - Fetch event names (filtered)
3. `POST /api/analysis/events` - Perform event analysis
4. `GET /api/analysis/events/occurrences/:name` - Get event occurrences
5. `POST /api/analysis/events/compare` - Compare event vs non-event days

## Next Steps

Users can now:
1. Navigate to the Events tab (âš¡ icon)
2. Select a symbol and date range
3. Choose an event or category
4. Configure the event window and trade parameters
5. Click "ANALYZE EVENTS" to see results
6. View statistics, charts, and detailed data
7. Export results (future enhancement)
